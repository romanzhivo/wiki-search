# wiki-search

## Описание
Приложение представляет собой веб-клиент с визуальным веб-интерфейсом, позволяющий производить поиск по списку статей в Википедии в пространстве имён [**Статьи (0)**](https://ru.wikipedia.org/wiki/Википедия:Пространства_имён) и поиск по имени файлов изображений.  

В приложении реализована серверная часть на [node.js](https://nodejs.org/ru), позволяющая запустить публичный http-сервер, принимающий запросы от веб-клиента, передающий их программному интерфейсу приложения (ПИП, API), который, в свою очередь, обращается к [ПИП Википедии](https://www.mediawiki.org/wiki/API:Main_page/ru), обрабатывает полученные от Википедии данные, после чего http-сервер возвращает обработанный ответ веб-клиенту.

**Проект может быть использован как учебный для изучения технологий [Vue.js](https://ru.vuejs.org/index.html), [Redux](https://redux.js.org/), [Node.js](https://nodejs.org/ru).  
Развитие, доработка, оптимизация и улучшения приветствуются.*

## Ограничения
[ПИП Википедии](https://www.mediawiki.org/wiki/API:Main_page/ru) довольно хорошо описан, однако не всегда есть возможность сформировать оптимальный запрос.  

Например, насколько известно, нет возможности получить одновременно название статьи, краткое описание и ссылку на страницу, в связи с чем в текущей реализации для комбинации перечисленных данных на уровне промежучного ПИП используются 3 вида запросов, что, конечно же, неоптимально.   

В связи с этим количество сущностей запросов ограничено 10-ю, то есть, при поиске или показе случайных статей будет выведено не более 10 сущностей.  
В реальности для получения основных данных по 10 статьям (название, описание, ссылка) будет сделан 21 запрос к ПИП Википедии:
1. запрос случайных статей
2. запрос на каждую статью отдельно на основе id
3. запрос выдержки *(extracts)* из каждой статьи

## Веб-клиент (фронтенд)
Для запуска фронтенда можно использовать любой веб-сервер для статического контента, например, [serve](https://github.com/zeit/serve)

## Программный интерфейс приложения (API)
Для запуска сервера ПИП (API) необходимо на уровне каталога проекта выполнить команду ``node server``.  
Базовая конфигурация сервера находится в файле ``/server/index.js``

Приложение реализует промежуточный интерфейс, опосредующий запросы к ПИП Википедии, в связи с чем для каждой функции есть предустановленные параметры, которые могут быть расширены параметрами из документации по [ПИП Википедии](https://www.mediawiki.org/wiki/API:Main_page/ru).

Все запросы ожидаются с методом **GET**.

Для запросов к ПИП приложения доступны следующие функции:
* articleListRandom - возвращает случайный список статей  
Предустановленные параметры:
```
{  
    list: 'random',
    rnnamespace: 0
}
```
* articleListSearch - возвращает список статей на основе поисковой строки  
Предустановленные параметры:
```
{  
    list: 'search',
    srnamespace: 0
}
```
* articleList - комбинированная функция; использует внутри себя ф-ии **articleGet** и **articleGetextract**; может возвращать как случайные статьи, так и статьи на основе поисковой строки  
Ожидаемые параметры: соответствуют параметрам ф-й **articleListRandom** и **articleListSearch**

* articleGet - возвращает отдельныую статью  
Предустановленные параметры: нет  
Ожидаемые параметры:
```
{
    prop: 'extracts' | 'info',
    pageids: 123|124|125
}
```
* articleGetextract - возращает выдержку из статьи  
Предустановленные параметры:
```
{
    prop: 'extracts',
    exsentences: 5,
    exlimit: 1,
    exsectionformat: 'plain',
    explaintext: true,
}
```
* imageList - возвращает список из не более 10-и изображений на основе поисковой строки (имени файла)  
Предустановленные параметры:
```
{
    list: 'allimages',
    ailimit: 10,
    aiprop: "canonicaltitle|url|metadata|parsedcomment"
}
```

## Технологии
- [Node.js](https://nodejs.org/ru)
- [Vue.js](https://ru.vuejs.org/index.html)
- [Redux](https://redux.js.org/)
 
## Установка зависимостей
```
npm install
```

### Компиляция и горячая перезагрузка в режиме разработки
```
npm run serve
```

### Компиляция и минификация конечной сборки приложения
```
npm run build
```

### Проверка и исправление кода
```
npm run lint
```

### Настройка конфигурации Vue
См. [Глобальная конфигурация CLI](https://cli.vuejs.org/ru/config/).


---

## Project setup
```
npm install
```

### Compiles and hot-reloads for development
```
npm run serve
```

### Compiles and minifies for production
```
npm run build
```

### Lints and fixes files
```
npm run lint
```

### Customize configuration
See [Configuration Reference](https://cli.vuejs.org/config/).
